# ç«¯å£æµé‡ç‹— - ä¿®æ”¹å¤‡æ³¨åŠŸèƒ½é›†æˆæŒ‡å—

## ğŸ“‹ å¿«é€Ÿæ£€æŸ¥æ¸…å•

âœ… è¡¥ä¸æ–‡ä»¶ `port-traffic-dog-edit-remark-patch.sh` å·²åŒ…å«:
- `edit_port_remark()` å‡½æ•° (ç¬¬ 6-69 è¡Œ)
- ä¿®æ”¹åçš„ `manage_traffic_limits()` å‡½æ•° (ç¬¬ 72-90 è¡Œ)
- **åŒ…å«** `echo "4. ä¿®æ”¹ç«¯å£å¤‡æ³¨"` (ç¬¬ 77 è¡Œ)

## ğŸ” è¡¥ä¸æ–‡ä»¶ç»“æ„

```bash
port-traffic-dog-edit-remark-patch.sh
â”œâ”€â”€ [è¡Œ 1-4]   æ–‡ä»¶è¯´æ˜
â”œâ”€â”€ [è¡Œ 6-69]  edit_port_remark() æ–°å‡½æ•°
â”‚   â”œâ”€â”€ åˆ—å‡ºæ‰€æœ‰ç«¯å£åŠå¤‡æ³¨
â”‚   â”œâ”€â”€ é€‰æ‹©ç«¯å£
â”‚   â”œâ”€â”€ è¾“å…¥æ–°å¤‡æ³¨
â”‚   â””â”€â”€ ä¿å­˜åˆ°é…ç½®æ–‡ä»¶
â””â”€â”€ [è¡Œ 72-90] manage_traffic_limits() ä¿®æ”¹åçš„å‡½æ•°
    â”œâ”€â”€ [è¡Œ 74-78] èœå•é€‰é¡¹ (åŒ…å«é€‰é¡¹4)  â† é‡ç‚¹
    â”œâ”€â”€ [è¡Œ 80]    è¾“å…¥æç¤º [0-4]
    â””â”€â”€ [è¡Œ 82-89] case åˆ†æ”¯ (åŒ…å« 4)
```

## ğŸ“ èœå•ç»“æ„å¯¹æ¯”

### åŸå§‹ manage_traffic_limits() å‡½æ•°

```bash
manage_traffic_limits() {
    echo -e "${BLUE}=== ç«¯å£é™åˆ¶è®¾ç½®ç®¡ç† ===${NC}"
    echo "1. è®¾ç½®ç«¯å£å¸¦å®½é™åˆ¶ï¼ˆé€Ÿç‡æ§åˆ¶ï¼‰"
    echo "2. è®¾ç½®ç«¯å£æµé‡é…é¢ï¼ˆæ€»é‡æ§åˆ¶ï¼‰"
    echo "3. ä¿®æ”¹ç«¯å£ç»Ÿè®¡æ–¹å¼ï¼ˆåŒå‘/å•å‘ï¼‰"
    # âŒ æ²¡æœ‰é€‰é¡¹4
    echo "0. è¿”å›ä¸»èœå•"
    echo
    read -p "è¯·é€‰æ‹©æ“ä½œ [0-3]: " choice  # âŒ [0-3]

    case $choice in
        1) set_port_bandwidth_limit ;;
        2) set_port_quota_limit ;;
        3) change_port_billing_mode ;;
        # âŒ æ²¡æœ‰ 4) åˆ†æ”¯
        0) show_main_menu ;;
        *) echo -e "${RED}æ— æ•ˆé€‰æ‹©${NC}"; sleep 1; manage_traffic_limits ;;
    esac
}
```

### è¡¥ä¸æ–‡ä»¶ä¸­çš„ manage_traffic_limits() å‡½æ•°

```bash
manage_traffic_limits() {
    echo -e "${BLUE}=== ç«¯å£é™åˆ¶è®¾ç½®ç®¡ç† ===${NC}"
    echo "1. è®¾ç½®ç«¯å£å¸¦å®½é™åˆ¶ï¼ˆé€Ÿç‡æ§åˆ¶ï¼‰"
    echo "2. è®¾ç½®ç«¯å£æµé‡é…é¢ï¼ˆæ€»é‡æ§åˆ¶ï¼‰"
    echo "3. ä¿®æ”¹ç«¯å£ç»Ÿè®¡æ–¹å¼ï¼ˆåŒå‘/å•å‘ï¼‰"
    echo "4. ä¿®æ”¹ç«¯å£å¤‡æ³¨"                  # âœ… æ–°å¢é€‰é¡¹4
    echo "0. è¿”å›ä¸»èœå•"
    echo
    read -p "è¯·é€‰æ‹©æ“ä½œ [0-4]: " choice     # âœ… [0-4]

    case $choice in
        1) set_port_bandwidth_limit ;;
        2) set_port_quota_limit ;;
        3) change_port_billing_mode ;;
        4) edit_port_remark ;;               # âœ… æ–°å¢åˆ†æ”¯4
        0) show_main_menu ;;
        *) echo -e "${RED}æ— æ•ˆé€‰æ‹©${NC}"; sleep 1; manage_traffic_limits ;;
    esac
}
```

## ğŸš€ VPS é›†æˆæ­¥éª¤

### æ­¥éª¤ 1: ä¸‹è½½è¡¥ä¸æ–‡ä»¶

```bash
cd /tmp
curl -sL "https://raw.githubusercontent.com/MavisTok/realm-xwPF-ZDY/main/port-traffic-dog-edit-remark-patch.sh" -o patch.sh
```

### æ­¥éª¤ 2: æŸ¥çœ‹è¡¥ä¸å†…å®¹

```bash
# æŸ¥çœ‹å®Œæ•´è¡¥ä¸
cat patch.sh

# æˆ–è€…åªæŸ¥çœ‹å…³é”®éƒ¨åˆ†
sed -n '72,90p' patch.sh
```

**æ‚¨åº”è¯¥çœ‹åˆ°:**
```bash
manage_traffic_limits() {
    echo -e "${BLUE}=== ç«¯å£é™åˆ¶è®¾ç½®ç®¡ç† ===${NC}"
    echo "1. è®¾ç½®ç«¯å£å¸¦å®½é™åˆ¶ï¼ˆé€Ÿç‡æ§åˆ¶ï¼‰"
    echo "2. è®¾ç½®ç«¯å£æµé‡é…é¢ï¼ˆæ€»é‡æ§åˆ¶ï¼‰"
    echo "3. ä¿®æ”¹ç«¯å£ç»Ÿè®¡æ–¹å¼ï¼ˆåŒå‘/å•å‘ï¼‰"
    echo "4. ä¿®æ”¹ç«¯å£å¤‡æ³¨"                    # â† è¿™ä¸€è¡Œåº”è¯¥å­˜åœ¨!
    echo "0. è¿”å›ä¸»èœå•"
    echo
    read -p "è¯·é€‰æ‹©æ“ä½œ [0-4]: " choice
```

### æ­¥éª¤ 3: å¤‡ä»½åŸå§‹è„šæœ¬

```bash
cp /usr/local/bin/port-traffic-dog.sh /usr/local/bin/port-traffic-dog.sh.backup
```

### æ­¥éª¤ 4: ç¼–è¾‘è„šæœ¬

```bash
vim /usr/local/bin/port-traffic-dog.sh
```

### æ­¥éª¤ 5: æ‰¾åˆ°æ’å…¥ä½ç½®

åœ¨ vim ä¸­æ‰§è¡Œ:
```vim
/^manage_traffic_limits()
```

è¿™ä¼šå®šä½åˆ°åŸå§‹çš„ `manage_traffic_limits()` å‡½æ•°ã€‚

### æ­¥éª¤ 6: æ’å…¥ edit_port_remark() å‡½æ•°

**åœ¨ `manage_traffic_limits()` å‡½æ•°ä¹‹å‰æ’å…¥:**

1. å°†å…‰æ ‡ç§»åˆ° `manage_traffic_limits()` å‡½æ•°å®šä¹‰è¡Œ
2. æŒ‰ `O` (å¤§å†™ O) åœ¨ä¸Šæ–¹æ’å…¥ç©ºè¡Œ
3. æŒ‰ `Esc` é€€å‡ºæ’å…¥æ¨¡å¼
4. è¾“å…¥ `:r /tmp/patch.sh` å¹¶å›è½¦
5. æˆ–è€…æ‰‹åŠ¨å¤åˆ¶ `edit_port_remark()` å‡½æ•° (ç¬¬ 6-69 è¡Œ)

### æ­¥éª¤ 7: æ›¿æ¢ manage_traffic_limits() å‡½æ•°

**æ–¹æ³• A: ç›´æ¥æ›¿æ¢ (æ¨è)**

1. å®šä½åˆ° `manage_traffic_limits()` å‡½æ•°
2. åˆ é™¤æ•´ä¸ªå‡½æ•°ä½“
3. ä»è¡¥ä¸æ–‡ä»¶å¤åˆ¶æ–°çš„å‡½æ•°å†…å®¹

**æ–¹æ³• B: æ‰‹åŠ¨ä¿®æ”¹ (3å¤„ä¿®æ”¹)**

æ‰¾åˆ°åŸå§‹çš„ `manage_traffic_limits()` å‡½æ•°,è¿›è¡Œä»¥ä¸‹ä¿®æ”¹:

```bash
# ä¿®æ”¹ 1: æ·»åŠ èœå•é€‰é¡¹ (åœ¨ç¬¬ 3 ä¸ªé€‰é¡¹åé¢)
echo "3. ä¿®æ”¹ç«¯å£ç»Ÿè®¡æ–¹å¼ï¼ˆåŒå‘/å•å‘ï¼‰"
echo "4. ä¿®æ”¹ç«¯å£å¤‡æ³¨"                    # â† æ·»åŠ è¿™ä¸€è¡Œ
echo "0. è¿”å›ä¸»èœå•"

# ä¿®æ”¹ 2: æ›´æ–°æç¤ºä¿¡æ¯
read -p "è¯·é€‰æ‹©æ“ä½œ [0-4]: " choice       # å°† [0-3] æ”¹ä¸º [0-4]

# ä¿®æ”¹ 3: æ·»åŠ  case åˆ†æ”¯ (åœ¨ 3) åé¢)
case $choice in
    1) set_port_bandwidth_limit ;;
    2) set_port_quota_limit ;;
    3) change_port_billing_mode ;;
    4) edit_port_remark ;;                 # â† æ·»åŠ è¿™ä¸€è¡Œ
    0) show_main_menu ;;
```

### æ­¥éª¤ 8: ä¿å­˜å¹¶é€€å‡º

```vim
:wq
```

### æ­¥éª¤ 9: éªŒè¯é›†æˆ

```bash
# å¯åŠ¨æµé‡ç‹—
dog

# è¿›å…¥èœå•: 2 (ç«¯å£é™åˆ¶è®¾ç½®ç®¡ç†)
# åº”è¯¥çœ‹åˆ°:
# 1. è®¾ç½®ç«¯å£å¸¦å®½é™åˆ¶ï¼ˆé€Ÿç‡æ§åˆ¶ï¼‰
# 2. è®¾ç½®ç«¯å£æµé‡é…é¢ï¼ˆæ€»é‡æ§åˆ¶ï¼‰
# 3. ä¿®æ”¹ç«¯å£ç»Ÿè®¡æ–¹å¼ï¼ˆåŒå‘/å•å‘ï¼‰
# 4. ä¿®æ”¹ç«¯å£å¤‡æ³¨                        â† æ–°å¢é€‰é¡¹
# 0. è¿”å›ä¸»èœå•
```

## ğŸ” é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: èœå•æ²¡æœ‰æ˜¾ç¤ºé€‰é¡¹ 4

**åŸå› :** `manage_traffic_limits()` å‡½æ•°æ²¡æœ‰æ­£ç¡®æ›´æ–°

**è§£å†³:**
```bash
# æ£€æŸ¥å‡½æ•°å†…å®¹
grep -A 10 "^manage_traffic_limits()" /usr/local/bin/port-traffic-dog.sh | grep "ä¿®æ”¹ç«¯å£å¤‡æ³¨"

# å¦‚æœæ²¡æœ‰è¾“å‡º,è¯´æ˜å‡½æ•°æœªæ›´æ–°,é‡æ–°æ‰§è¡Œæ­¥éª¤ 7
```

### é—®é¢˜ 2: é€‰æ‹© 4 åæŠ¥é”™ "æ— æ•ˆé€‰æ‹©"

**åŸå› :** case åˆ†æ”¯æ²¡æœ‰æ·»åŠ  `4) edit_port_remark ;;`

**è§£å†³:**
```bash
# æ£€æŸ¥ case åˆ†æ”¯
grep -A 15 "^manage_traffic_limits()" /usr/local/bin/port-traffic-dog.sh | grep "edit_port_remark"

# å¦‚æœæ²¡æœ‰è¾“å‡º,è¯´æ˜ case åˆ†æ”¯æœªæ·»åŠ 
```

### é—®é¢˜ 3: é€‰æ‹© 4 åæç¤ºå‡½æ•°æœªæ‰¾åˆ°

**åŸå› :** `edit_port_remark()` å‡½æ•°æœªæ·»åŠ 

**è§£å†³:**
```bash
# æ£€æŸ¥å‡½æ•°æ˜¯å¦å­˜åœ¨
grep "^edit_port_remark()" /usr/local/bin/port-traffic-dog.sh

# å¦‚æœæ²¡æœ‰è¾“å‡º,é‡æ–°æ‰§è¡Œæ­¥éª¤ 6
```

## ğŸ“ å®Œæ•´çš„é›†æˆå‘½ä»¤åºåˆ—

```bash
# 1. ä¸‹è½½è¡¥ä¸
curl -sL "https://raw.githubusercontent.com/MavisTok/realm-xwPF-ZDY/main/port-traffic-dog-edit-remark-patch.sh" -o /tmp/patch.sh

# 2. éªŒè¯è¡¥ä¸å†…å®¹
echo "=== æ£€æŸ¥è¡¥ä¸æ–‡ä»¶ä¸­çš„é€‰é¡¹4 ==="
grep "ä¿®æ”¹ç«¯å£å¤‡æ³¨" /tmp/patch.sh

# 3. å¤‡ä»½åŸå§‹è„šæœ¬
cp /usr/local/bin/port-traffic-dog.sh /usr/local/bin/port-traffic-dog.sh.backup

# 4. ç¼–è¾‘è„šæœ¬ (æ‰‹åŠ¨é›†æˆ)
vim /usr/local/bin/port-traffic-dog.sh

# 5. éªŒè¯é›†æˆç»“æœ
echo "=== æ£€æŸ¥å·²é›†æˆçš„å‡½æ•° ==="
grep "^edit_port_remark()" /usr/local/bin/port-traffic-dog.sh && echo "âœ“ edit_port_remark å‡½æ•°å·²æ·»åŠ "
grep -A 10 "^manage_traffic_limits()" /usr/local/bin/port-traffic-dog.sh | grep "ä¿®æ”¹ç«¯å£å¤‡æ³¨" && echo "âœ“ èœå•é€‰é¡¹å·²æ·»åŠ "
grep -A 15 "^manage_traffic_limits()" /usr/local/bin/port-traffic-dog.sh | grep "edit_port_remark" && echo "âœ“ case åˆ†æ”¯å·²æ·»åŠ "

# 6. æµ‹è¯•åŠŸèƒ½
dog
```

## âœ… é›†æˆæˆåŠŸæ ‡å¿—

å½“æ‚¨è¿›å…¥ `dog â†’ 2. ç«¯å£é™åˆ¶è®¾ç½®ç®¡ç†` å,åº”è¯¥çœ‹åˆ°:

```
=== ç«¯å£é™åˆ¶è®¾ç½®ç®¡ç† ===
1. è®¾ç½®ç«¯å£å¸¦å®½é™åˆ¶ï¼ˆé€Ÿç‡æ§åˆ¶ï¼‰
2. è®¾ç½®ç«¯å£æµé‡é…é¢ï¼ˆæ€»é‡æ§åˆ¶ï¼‰
3. ä¿®æ”¹ç«¯å£ç»Ÿè®¡æ–¹å¼ï¼ˆåŒå‘/å•å‘ï¼‰
4. ä¿®æ”¹ç«¯å£å¤‡æ³¨                        â† å¿…é¡»æ˜¾ç¤ºæ­¤é€‰é¡¹
0. è¿”å›ä¸»èœå•

è¯·é€‰æ‹©æ“ä½œ [0-4]: _
```

é€‰æ‹© `4` ååº”è¯¥è¿›å…¥å¤‡æ³¨ä¿®æ”¹ç•Œé¢ã€‚

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé›†æˆè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜:

1. æ£€æŸ¥è¡¥ä¸æ–‡ä»¶æ˜¯å¦å®Œæ•´ä¸‹è½½
2. ç¡®è®¤ç¼–è¾‘ä½ç½®æ­£ç¡®
3. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„é—®é¢˜æ’æŸ¥éƒ¨åˆ†
4. å‚è€ƒä»“åº“: <https://github.com/MavisTok/realm-xwPF-ZDY>

---

**æœ€åæ›´æ–°:** 2026-01-01
**ç‰ˆæœ¬:** v1.0
